/* dark.css - Tema oscuro para el sistema de reservas */

:root {
    /* Variables para tema oscuro */
    --bg-primary: #121212;
    --bg-secondary: #1e1e1e;
    --bg-tertiary: #2d2d2d;
    --text-primary: #ffffff;
    --text-secondary: #b0b0b0;
    --text-tertiary: #888888;
    --border-color: #444444;
    --accent-color: #2563eb;
    --accent-hover: #1d4ed8;
    --success-color: #10b981;
    --warning-color: #f59e0b;
    --danger-color: #ef4444;
    --shadow-color: rgba(0, 0, 0, 0.5);
}

/* Aplicar tema oscuro cuando está activo */
body.dark-theme {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

/* Header */
body.dark-theme .header {
    background-color: var(--bg-secondary) !important;
    border-bottom-color: var(--border-color) !important;
    box-shadow: 0 1px 3px var(--shadow-color) !important;
}

/* Logo y navegación */
body.dark-theme .logo-section div {
    color: var(--text-primary) !important;
}

body.dark-theme .nav-item {
    color: var(--text-secondary) !important;
}

body.dark-theme .nav-item:hover,
body.dark-theme .nav-item.active {
    background-color: var(--accent-color) !important;
    color: white !important;
}

/* Contenido principal */
body.dark-theme .main-content {
    background-color: var(--bg-primary) !important;
}

/* Breadcrumb */
body.dark-theme .breadcrumb {
    color: var(--text-secondary) !important;
}

body.dark-theme .breadcrumb a {
    color: var(--accent-color) !important;
}

/* Secciones de tarjetas */
body.dark-theme .page-header,
body.dark-theme .filters-section,
body.dark-theme .calendar-section,
body.dark-theme .sidebar {
    background-color: var(--bg-secondary) !important;
    border-color: var(--border-color) !important;
    box-shadow: 0 1px 3px var(--shadow-color) !important;
}

body.dark-theme .page-title {
    color: var(--text-primary) !important;
}

/* Filtros */
body.dark-theme .filter-label {
    color: var(--text-secondary) !important;
}

body.dark-theme .filter-select,
body.dark-theme .filter-input {
    background-color: var(--bg-tertiary) !important;
    border-color: var(--border-color) !important;
    color: var(--text-primary) !important;
}

body.dark-theme .filter-select:focus,
body.dark-theme .filter-input:focus {
    border-color: var(--accent-color) !important;
}

/* Botones */
body.dark-theme .view-toggles {
    background-color: var(--bg-tertiary) !important;
}

body.dark-theme .view-toggle {
    color: var(--text-secondary) !important;
}

body.dark-theme .view-toggle.active {
    background-color: var(--bg-secondary) !important;
    color: var(--accent-color) !important;
}

/* Calendario (FullCalendar) */
body.dark-theme .fc {
    --fc-page-bg-color: var(--bg-secondary) !important;
    --fc-border-color: var(--border-color) !important;
    --fc-neutral-bg-color: var(--bg-tertiary) !important;
    --fc-neutral-text-color: var(--text-secondary) !important;
    --fc-button-bg-color: var(--bg-tertiary) !important;
    --fc-button-border-color: var(--border-color) !important;
    --fc-button-text-color: var(--text-primary) !important;
    --fc-button-hover-bg-color: var(--accent-color) !important;
    --fc-button-hover-border-color: var(--accent-color) !important;
    --fc-button-active-bg-color: var(--accent-hover) !important;
    --fc-button-active-border-color: var(--accent-hover) !important;
    --fc-today-bg-color: rgba(37, 99, 235, 0.1) !important;
}

body.dark-theme .fc-header-toolbar button {
    background-color: var(--bg-tertiary) !important;
    border-color: var(--border-color) !important;
    color: var(--text-primary) !important;
}

body.dark-theme .fc-header-toolbar button:hover {
    background-color: var(--accent-color) !important;
    border-color: var(--accent-color) !important;
}

body.dark-theme .fc-toolbar-title {
    color: var(--text-primary) !important;
}

body.dark-theme .fc-daygrid-day {
    background-color: var(--bg-secondary) !important;
}

body.dark-theme .fc-col-header-cell {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

body.dark-theme .fc-day-today {
    background-color: rgba(37, 99, 235, 0.15) !important;
}

/* Leyenda del calendario */
body.dark-theme .calendar-legend {
    background-color: var(--bg-tertiary) !important;
}

/* Reservas en sidebar */
body.dark-theme .selected-date {
    background-color: var(--bg-tertiary) !important;
}

body.dark-theme .selected-date-text {
    color: var(--accent-color) !important;
}

body.dark-theme .reservation-item {
    background-color: var(--bg-tertiary) !important;
}

body.dark-theme .reservation-time {
    color: var(--text-secondary) !important;
}

body.dark-theme .reservation-space {
    color: var(--text-primary) !important;
}

/* Ayuda de teclado */
body.dark-theme .keyboard-help {
    background-color: var(--bg-tertiary) !important;
    border-color: var(--border-color) !important;
}

body.dark-theme .keyboard-help-title {
    color: var(--text-primary) !important;
}

body.dark-theme .keyboard-shortcuts {
    color: var(--text-secondary) !important;
}

body.dark-theme .keyboard-tip {
    color: var(--text-tertiary) !important;
}

/* Botones */
body.dark-theme .new-reservation-btn {
    background-color: var(--success-color) !important;
    color: white !important;
}

body.dark-theme .new-reservation-btn:hover {
    background-color: #059669 !important;
}

/* Estados vacíos */
body.dark-theme .empty-state p {
    color: var(--text-secondary) !important;
}

/* Scrollbars */
body.dark-theme ::-webkit-scrollbar {
    width: 10px;
    background-color: var(--bg-tertiary);
}

body.dark-theme ::-webkit-scrollbar-thumb {
    background-color: var(--border-color);
    border-radius: 5px;
}

body.dark-theme ::-webkit-scrollbar-thumb:hover {
    background-color: var(--accent-color);
}

/* Estilos para el botón de toggle inyectado */
.theme-toggle-btn{ /* fallback básico por si no se carga JS */ }

/* Asegurar mejor visibilidad del toggle inyectado por _theme_snippet */
#themeToggle{ cursor:pointer; padding:8px 12px; border-radius:999px; background:rgba(255,255,255,0.9); box-shadow:0 8px 24px rgba(2,6,23,0.08); }
html[data-theme="dark"] #themeToggle{ background:rgba(8,10,15,0.85); color:#e6eef8 }

/* --------------------------------------------------
   Overrides adicionales para elementos con fondo blanco
   -------------------------------------------------- */

/* Aplicar a containers y tarjetas comunes */
html[data-theme="dark"] .login-container,
body.dark-theme .login-container,
html[data-theme="dark"] .card,
body.dark-theme .card,
html[data-theme="dark"] .card-custom,
body.dark-theme .card-custom,
html[data-theme="dark"] .page-header,
body.dark-theme .page-header,
html[data-theme="dark"] .filters-section,
body.dark-theme .filters-section,
html[data-theme="dark"] .calendar-section,
body.dark-theme .calendar-section,
html[data-theme="dark"] .sidebar,
body.dark-theme .sidebar,
html[data-theme="dark"] .demo-credentials,
body.dark-theme .demo-credentials,
html[data-theme="dark"] .modal-content,
body.dark-theme .modal-content {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-color: rgba(255,255,255,0.03) !important;
    box-shadow: 0 6px 18px rgba(0,0,0,0.45) !important;
}

/* Formularios e inputs */
html[data-theme="dark"] .form-input,
body.dark-theme .form-input,
html[data-theme="dark"] input,
body.dark-theme input,
html[data-theme="dark"] textarea,
body.dark-theme textarea,
html[data-theme="dark"] select,
body.dark-theme select {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
}

/* Botones neutros: mantener colores de acción pero mejorar contraste */
html[data-theme="dark"] .action-button,
body.dark-theme .action-button,
html[data-theme="dark"] .action-button.register,
body.dark-theme .action-button.register,
html[data-theme="dark"] .action-button.admin,
body.dark-theme .action-button.admin {
    color: #fff !important;
}

/* Tabs y elementos de navegación internos */
html[data-theme="dark"] .tabs,
body.dark-theme .tabs,
html[data-theme="dark"] .tab,
body.dark-theme .tab {
    background: transparent !important;
}

html[data-theme="dark"] .tab.active,
body.dark-theme .tab.active {
    background: rgba(255,255,255,0.03) !important;
    color: var(--accent-color) !important;
}

/* Links y textos interactivos */
html[data-theme="dark"] a,
body.dark-theme a {
    color: var(--accent-color) !important;
}

/* Breadcrumbs y pequeños textos */
html[data-theme="dark"] .breadcrumb,
body.dark-theme .breadcrumb,
html[data-theme="dark"] .muted,
body.dark-theme .muted {
    color: var(--text-secondary) !important;
}

/* Forzar fondo oscuro en elementos inline con estilos 'background: white' */
html[data-theme="dark"] [style*="background: white"],
body.dark-theme [style*="background: white"] {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

/* Ajustes para login 'logo' card en específico */
html[data-theme="dark"] .login-container .logo-text,
body.dark-theme .login-container .logo-text {
    color: var(--text-primary) !important;
}

/* Asegurar contraste en pequeñas cajas (badges, legendas) */
html[data-theme="dark"] .calendar-legend,
body.dark-theme .calendar-legend,
html[data-theme="dark"] .reservation-item,
body.dark-theme .reservation-item {
    background: var(--bg-tertiary) !important;
}

/* Evitar que ciertas sombras sobresalgan demasiado en tema oscuro */
html[data-theme="dark"] .box-shadow-light,
body.dark-theme .box-shadow-light {
    box-shadow: none !important;
}

/* Pequeño ajuste para el footer o áreas blancas no cubiertas */
html[data-theme="dark"] footer,
body.dark-theme footer {
    background: transparent !important;
    color: var(--text-secondary) !important;
}
